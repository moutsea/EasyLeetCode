## 默认参数

C++当中的支持默认参数，如果你学过 Python，那么想必对此不会陌生。C++中的默认参数的用法和 Python 基本一致。

使用默认参数的方法非常简单，也就是我们在函数声明的时候，就为某些参数指定好默认值。当我们调用函数的时候，如果没有传入对应的参数，那么则使用默认值。

比如：

```C++
void func(int a, int b=2, int c=3, int d=4) {
    cout << a << " " << b << " " << c << " " << d << endl;
}
```

在这个函数 func 当中，我们定义了三个变量的默认值，那么我们在调用的时候，以下这几种方式都是可以的：

```C++
func(1);			// 1 2 3 4
func(1, 3);			// 1 3 3 4
func(1, 3, 5);		// 1 3 5 4
func(1, 3, 4, 8);	// 1 3 4 8
```

另外，默认参数的值也不一定是定值，也可以是一个表达式，例如：

```C++
class Test {
public:
    static int getValue() {
        return 1;
    }

    int func(int a, int b = getValue()) {
        return b;
    }
} ;
```

和 Python 一样，C++当中也有对默认参数的限制：如果某个参数是默认参数，那么从它开始之后的所有参数必须都是默认参数。

```C++
void func(int a, int b=3, int c=4);		// 合法
void func(int a=3, int b=4, int c=5);	// 合法
void func(int a, int b=3, int c);		// 非法
```

默认参数是一个非常好用的特性，熟练使用可以大大降低编码的复杂度，可以实现各种高级操作。

但默认参数也有一个大坑，需要注意，就是和函数重载一起使用的时候。比如我们有这样两个函数：

```C++
void func(int a);
void func(int a, int b=3);
```

这两个函数虽然函数名一样，但是接收的参数不同。因此会被视作是函数重载，编译器会根据我们传入的参数进行判断究竟调用哪一个。但如果我们这样调用函数，则会引起歧义：

```C++
func(3);
```

因为编译器会不知道究竟你是在调用哪一个函数，于是就会引发下列的报错：

![](https://tva1.sinaimg.cn/large/008i3skNgy1gwhw1wznwzj30sy0a4wf2.jpg)
