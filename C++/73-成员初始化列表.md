## 成员初始化列表



除了可以使用构造函数对类成员进行初始化之外，C++还提供了另外一种初始化的方法，叫做成员初始化列表。



我们假设`Classy`是一个类，而`mem1`，`mem2`和`mem3`都是这个类的数据成员，那么类构造函数可以写成：



```C++
Classy::Classy(int n, int m): mem1(n), mem2(0), mem3(n*m+2) {
    ...
};
```



上述代码将`mem1`初始化为n，将`mem2`初始化为了0，`mem3`初始化成了`n*m+2`。这些初始化工作是对象创建是完成的，并且在执行花括号中的内容之前。



有这么几点需要注意：



- 这种格式只能用于构造函数
- 必须用这种格式初始化非静态const数据成员（C++11之前）
- 必须用这种格式初始化引用数据成员



数据成员被初始化的顺序和它们在类中定义的顺序相同，和初始化列表中的排列顺序无关。



### C++11的类内初始化



C++11当中允许我们直接对成员变量进行赋值：



```C++
class Classy {
    int mem1 = 10;
    const int mem2 = 20;
};
```



这和在构造函数当中使用成员初始化列表等价：



```C++
Classy::Classy() : mem1(0), mem2(20) {...}
```



我们在类当中直接初始化之后，我们也可以在成员初始化列表当中进行覆盖：



```C++
Classy::Classy(int n) : mem1(n) {...}
```



在这种情况下，`mem1`的值会被替换成n。